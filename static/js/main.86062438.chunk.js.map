{"version":3,"sources":["api/api.js","components/hoc/withAuthRedirect.js","components/img/preloader.svg","components/common/preloader/preloader.module.css","components/img/scroll.png","components/img/exit.png","components/Dialogs/Dialogs.module.css","components/navbar/navbar.module.css","components/common/FromsControls/FormsControls.module.css","components/img/profile.png","components/img/news.png","components/img/message.png","components/img/music.png","components/img/setting.png","components/img/userssearch.png","components/header/header.module.css","serviceWorker.js","redux/sidebar-reducer.js","redux/users-reducer.js","redux/auth-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/navbar/navbar.jsx","components/Settings/Settings.jsx","components/Music/Music.jsx","components/News/News.jsx","components/users/paginator.js","components/users/Users.js","redux/UsersSelectors.js","components/users/UsersContainer.jsx","components/header/header.jsx","components/header/headerContainer.jsx","components/login/login.jsx","components/Dialogs/Message/Message.jsx","components/Dialogs/chat/chatItems/ChatItems.jsx","components/Dialogs/chat/Chat.jsx","components/Dialogs/chat/ChatContainer.jsx","App.js","index.js","components/common/preloader/preloader.js","components/common/FromsControls/FormsControls.js","components/img/user.png","redux/dialogs-reducer.js","components/users/paginator.module.css","redux/profile-reducer.js","utils/validators/validators.js","components/img/myLogo.png"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","getProfile","userId","console","warn","profileAPI","follow","post","unFollow","delete","getStatus","updateStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","me","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","dialogsAPI","getDialogs","getAllMessages","id","startChatting","sendMessage","message","body","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","Boolean","window","location","hostname","match","initialState","sidebarReducer","usersState","users","totalUserCount","isFetching","followingInProgress","followSuccess","userID","type","unFollowSuccess","setUsers","setIsFetching","toggleIsFollowingProgress","followUnFollowFlow","dispatch","ApiMethod","SubscriptionSuccess","a","resultCode","usersReducer","action","map","u","followed","count","filter","captchaUrl","myData","zeroStateThunk","setAuthUserData","payload","getCaptchaUrlSuccess","getAuthUserData","getMyProfileData","myId","myProfile","photos","url","authReducer","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","dialogsReducer","sidebar","usersPage","form","formReducer","app","store","createStore","composeWithDevTools","applyMiddleware","thunkMidleware","navbar","className","s","nav","item","itemHover","activeClassName","active","Settings","Music","News","Paginator","pagesCount","Math","ceil","totalItemsCount","pages","i","push","portionCount","portionSize","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","style","paginator","portionNumberLeft","onClick","p","cn","selectedPage","pageNumber","e","onPageChanged","portionNumberRight","Users","listener","stop","document","scrollTop","documentElement","getElementById","opacity","onclick","scrollIntoView","behavior","block","useEffect","addEventListener","removeEventListener","key","src","small","userPhoto","name","disabled","some","textDecoration","scroll","alt","getPageSize","getTotalUserCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","setCurrentPage","params","compose","bind","page","items","totalCount","withRouter","Header","header","logo","myLogo","loginBlock","photoUser","user","button","exit","HeaderContainer","LoginReduxForm","reduxForm","handleSubmit","error","onSubmit","Field","placeholder","component","Input","validate","required","createField","formSummaryError","messages","length","stopSubmit","_error","Message","text","userName","senderName","userMessage","ChatItems","chatDialog","DialogsReduxForm","formMessage","Dialogs","messagesElements","allMessages","m","dialogChat","userData","fullName","chatBlock","chat","messagesBody","messageBlock","addMessage","values","sendMessageThunk","newMessageBody","ChatContainer","setState","getUserProfile","timer","setInterval","clearInterval","prevProps","deleteInterval","interval","Chat","allDialogs","dialogs","setDialogs","getAllDialogs","DialogsContainer","lazy","ProfileContainer","App","initializeApp","exact","path","render","Suspense","fallback","ReactDOM","navigator","serviceWorker","ready","registration","unregister","Preloader","preloader","Textarea","input","meta","hasError","touched","formControl","validators","messageForFriend","SendMessageCreator","posts","like","setStatus","addPostActionCreator","newPostText","file","getState","Promise","reject","newPost","value","maxLengthCreator","maxLength"],"mappings":"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","file":"static/js/main.86062438.chunk.js","sourcesContent":["import * as axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\"API-KEY\": \"a4c5407e-c446-46f9-831c-563295f47846\"}\r\n    //headers: {\"API-KEY\": \"38eefa8a-6276-4ef0-84c0-13e8c9\"}\r\n});\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers (currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?Page=${currentPage}&count=${pageSize}`)\r\n            .then(response => response.data)\r\n    },\r\n\r\n    getProfile (userId) {\r\n        console.warn ('obsolete method. Please use profileAPI object.')\r\n        return profileAPI.getProfile(userId)},\r\n    follow (userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    unFollow (userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    }\r\n}\r\nexport const profileAPI = {\r\n    getProfile (userId) {\r\n        return instance.get(`profile/` + userId)},\r\n    getStatus (userId) {\r\n        return instance.get('profile/status/' + userId)\r\n    },\r\n    updateStatus (status) {\r\n        return instance.put('profile/status', {status})\r\n    },\r\n    savePhoto (photoFile) {\r\n        let formData = new FormData();\r\n        formData.append(\"image\", photoFile);\r\n        return instance.put('profile/photo', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        })\r\n    },\r\n    saveProfile (profile) {\r\n        return instance.put('profile', profile)\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me () { return instance.get(`auth/me`)},\r\n    login (email,password, rememberMe = false, captcha=null) { return instance.post(`auth/login`, {email, password, rememberMe, captcha})},\r\n    logout () { return instance.delete(`auth/login`)}\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl () { return instance.get(`security/get-captcha-url`)},\r\n}\r\n\r\nexport const dialogsAPI = {\r\n    getDialogs () {return instance.get(`dialogs`)},\r\n\r\n    getAllMessages (id) {return instance.get(`dialogs/${id}/messages`)},\r\n\r\n    startChatting (id) {return instance.put(`dialogs/${id}`)},\r\n\r\n    sendMessage (id, message) {return instance.post(`dialogs/${id}/messages`, {body: message})}\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render () {\r\n            if (!this.props.isAuth) return <Redirect to = \"/login\" />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect (mapStateToPropsForRedirect) (RedirectComponent);\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","module.exports = __webpack_public_path__ + \"static/media/preloader.be989e93.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"preloader_preloader__160E8\"};","module.exports = __webpack_public_path__ + \"static/media/scroll.5d1fcfc0.png\";","module.exports = __webpack_public_path__ + \"static/media/exit.9478b23a.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"allWiew\":\"Dialogs_allWiew__2PLMp\",\"dialogs\":\"Dialogs_dialogs__1T8px\",\"dialogsElemnts\":\"Dialogs_dialogsElemnts__2D7pT\",\"dialogMain\":\"Dialogs_dialogMain__2DDE_\",\"dialogsItems\":\"Dialogs_dialogsItems__3EID2\",\"dialogChat\":\"Dialogs_dialogChat__bkN-Y\",\"chatDialog\":\"Dialogs_chatDialog__3UrmA\",\"dialog\":\"Dialogs_dialog__27TLd\",\"messages\":\"Dialogs_messages__1nWLn\",\"text\":\"Dialogs_text__bSpe9\",\"textarea\":\"Dialogs_textarea__VdGe6\",\"input\":\"Dialogs_input__3gzn5\",\"chatBlock\":\"Dialogs_chatBlock__2VuUW\",\"chat\":\"Dialogs_chat__3p3T0\",\"indent\":\"Dialogs_indent__1mEil\",\"messagesBody\":\"Dialogs_messagesBody__37-Lc\",\"userMessage\":\"Dialogs_userMessage__3pzEo\",\"messageBlock\":\"Dialogs_messageBlock__VgghS\",\"formMessage\":\"Dialogs_formMessage__1RRQT\",\"button\":\"Dialogs_button__2BIAa\",\"userName\":\"Dialogs_userName__2Em3C\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"navbar_nav__yuHTO\",\"itemHover\":\"navbar_itemHover__3s83K\",\"item\":\"navbar_item__27Rfj\",\"img\":\"navbar_img__3zPh5\",\"setting\":\"navbar_setting__sGxTg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"FormsControls_form__qTyzr\",\"login\":\"FormsControls_login__2Azyh\",\"password\":\"FormsControls_password__-gfLa\",\"rememberMe\":\"FormsControls_rememberMe__S1hTU\",\"word\":\"FormsControls_word__39M9O\",\"button\":\"FormsControls_button__1hx15\",\"formControl\":\"FormsControls_formControl__1G1Ma\",\"error\":\"FormsControls_error__2n73a\",\"formSummaryError\":\"FormsControls_formSummaryError__3wFGX\",\"data\":\"FormsControls_data__3q-LU\"};","module.exports = __webpack_public_path__ + \"static/media/profile.b9b49056.png\";","module.exports = __webpack_public_path__ + \"static/media/news.617085b8.png\";","module.exports = __webpack_public_path__ + \"static/media/message.302bd1c7.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/setting.8b2af79b.png\";","module.exports = __webpack_public_path__ + \"static/media/userssearch.d95f618b.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__2bqzK\",\"photoUser\":\"header_photoUser__-yRHg\",\"logo\":\"header_logo__JeMgf\",\"loginBlock\":\"header_loginBlock__u4GiA\",\"logout\":\"header_logout__HeZKI\",\"nav\":\"header_nav__2jseh\",\"button\":\"header_button__3Z4q7\",\"isAuth\":\"header_isAuth__2-E_q\",\"name\":\"header_name__2sG9J\"};","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","\r\nlet initialState = {}\r\n\r\nconst  sidebarReducer = (state = initialState, action) => {\r\n\r\n\r\n    return state;\r\n}\r\n\r\nexport default  sidebarReducer;","import React from 'react';\r\nimport {usersAPI} from \"../api/api\";\r\n\r\nconst FOLLOW = `FOLLOW`;\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet usersState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUserCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = usersState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.userID) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u;\r\n                })\r\n            };\r\n        case SET_USERS: {\r\n            return {...state, users: action.users}\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return {...state, totalUserCount: action.count}\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\nexport const followSuccess = (userID) => ({type: FOLLOW, userID});\r\nexport const unFollowSuccess = (userID) => ({type: UNFOLLOW, userID});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount});\r\nexport const setIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleIsFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\nexport const requestUsers = (page, pageSize) => {\r\n    return async (dispatch) => {\r\n        dispatch(setIsFetching(true));\r\n        let data = await usersAPI.getUsers(page, pageSize)\r\n        dispatch(setIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n};\r\n\r\nconst followUnFollowFlow =  async (dispatch, userId, ApiMethod, SubscriptionSuccess) => {\r\n        dispatch(toggleIsFollowingProgress(true, userId));\r\n        let response = await ApiMethod(userId);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(SubscriptionSuccess(userId));\r\n        dispatch(toggleIsFollowingProgress(false, userId));\r\n    }\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnFollowFlow(dispatch, userId,usersAPI.follow.bind(usersAPI), followSuccess);\r\n    }\r\n};\r\n\r\nexport const unFollow = (userId) => {\r\n    return async (dispatch) => {\r\n        await followUnFollowFlow(dispatch, userId, usersAPI.unFollow.bind(usersAPI), unFollowSuccess);\r\n    }\r\n};\r\n\r\nexport default usersReducer;","import React from 'react';\r\nimport {authAPI, profileAPI, securityAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport { getUserProfile } from './profile-reducer';\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\nconst SET_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst GET_CAPTCHA_URL_SUCCESS = 'GET_CAPTCHA_URL_SUCCESS';\r\nconst SET_MY_PROFILE = 'SET_MY_PROFILE';\r\nconst ZERO_STATE = 'ZERO_STATE';\r\n\r\nlet usersState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isFetching: false,\r\n    isAuth: false,\r\n    captchaUrl: null,\r\n    myData: null\r\n};\r\n\r\n\r\nconst authReducer = (state = usersState, action) => {\r\n    switch (action.type) {\r\n        case ZERO_STATE: \r\n            return usersState;\r\n        case SET_USER_DATA:\r\n        case GET_CAPTCHA_URL_SUCCESS:\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            };\r\n        case SET_IS_FETCHING:\r\n            return {\r\n                ...state,\r\n                isFetching: action.isFetching\r\n            };\r\n        case SET_MY_PROFILE: {\r\n            return {...state, myData: action.myProfile}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const zeroState = () =>({ type: ZERO_STATE})\r\nexport const zeroStateThunk = () => (dispatch) => {\r\n    dispatch(zeroState())\r\n}\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_USER_DATA,\r\n    payload: {userId, email, login, isAuth}\r\n});\r\nexport const getCaptchaUrlSuccess = (captchaUrl) => ({\r\n    type: GET_CAPTCHA_URL_SUCCESS,\r\n    payload: {captchaUrl}\r\n});\r\nexport const getAuthUserData = () => async (dispatch) => {\r\n    let response = await authAPI.me();\r\n            if (response.data.resultCode === 0) {\r\n                let {id, email, login} = response.data.data;\r\n                dispatch(setAuthUserData(id, email, login, true));\r\n                dispatch(getMyProfileData(id))\r\n            }\r\n};\r\n\r\n//myProfile\r\nexport const setMyProfileData = (myProfile) => ({type: SET_MY_PROFILE, myProfile})\r\nexport const getMyProfileData = (myId) => async (dispatch) => {\r\n    let response = await profileAPI.getProfile(myId);\r\n        if(response.data) {\r\n            dispatch(setMyProfileData(response.data.photos));\r\n        }\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let response = await authAPI.login(email, password, rememberMe, captcha);\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(getAuthUserData());\r\n        } else {\r\n            if(response.data.resultCode === 10){\r\n                dispatch(getCaptchaUrl());\r\n            }\r\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : \"some error\";\r\n            dispatch(stopSubmit(\"login\", {_error: message}));\r\n        }\r\n};\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n        const response = await securityAPI.getCaptchaUrl();\r\n        const captchaUrl = response.data.url;\r\n        dispatch(getCaptchaUrlSuccess(captchaUrl));\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let response = await authAPI.logout();\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setAuthUserData(null, null, null, false));\r\n        }\r\n        dispatch(zeroStateThunk())\r\n};\r\n\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport {getAuthUserData} from \"./auth-reducer\";\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED';\r\n\r\nlet initialState = {\r\n    initialized: false\r\n};\r\n\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    if (action.type === SET_INITIALIZED) {\r\n        return {\r\n            ...state,\r\n            initialized: true\r\n        }\r\n    } else {\r\n        return state;\r\n    }\r\n}\r\nexport const setInitialized = () => ({type: SET_INITIALIZED})\r\nexport const initializeApp = () => (dispatch) => {\r\n        let promise = dispatch(getAuthUserData());\r\n        promise.then(() =>{\r\n            dispatch(setInitialized())\r\n        })\r\n\r\n    }\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMidleware from 'redux-thunk';\r\nimport {reducer as formReducer } from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    sidebar: sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\n\r\nlet store = createStore(reducers, composeWithDevTools(applyMiddleware(thunkMidleware)));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport s from './navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport profile from \"./../img/profile.png\";\r\nimport news from \"./../img/news.png\";\r\nimport message from \"./../img/message.png\";\r\nimport music from \"./../img/music.png\";\r\nimport setting from \"./../img/setting.png\";\r\nimport usersSearch from '../img/userssearch.png';\r\n\r\nconst navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <div className= {s.itemHover}>\r\n                    <NavLink to =\"/profile\" activeClassName={s.active}> {/*<img className={s.img} src={profile} /> */} Профиль </NavLink>\r\n                </div>\r\n                <div className= {s.itemHover}>\r\n                    <NavLink to =\"News\" activeClassName={s.active}> {/*<img className={s.img} src={news} />*/} Новости </NavLink>\r\n                </div >\r\n                <div className= {s.itemHover}>\r\n                    <NavLink to=\"/Dialogs\" activeClassName={s.active}>{/*<img className={s.img} src={message} />*/} Сообщения </NavLink>\r\n                </div>\r\n                <div className= {s.itemHover}>\r\n                    <NavLink to=\"Music\" activeClassName={s.active}>{/*<img className={s.img} src={music} /> */}Музыка </NavLink>\r\n                </div>\r\n                <div className= {s.itemHover}>\r\n                    <NavLink to =\"/users\" activeClassName={s.active}>{/*<img className={s.img} src={usersSearch} /> */}Люди </NavLink>\r\n                </div>\r\n                <div className= {s.itemHover}>\r\n                    <NavLink to =\"Settings\" activeClassName={s.active}>{/*<img className={s.setting} src={setting} />*/} Настройки </NavLink>\r\n                </div>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\nexport default navbar;","import React from 'react';\r\n\r\n\r\nconst Settings = (props) => {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings;","import React from 'react';\r\nimport s from \"./Music.module.css\";\r\n\r\nconst Music = (props) => {\r\n    return (\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music;","import React from 'react';\r\nimport s from \"./News.module.css\";\r\n\r\nconst News = (props) => {\r\n    return (\r\n        <div>\r\n            News\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default News;","import style from \"./paginator.module.css\";\r\nimport React, {useState} from \"react\";\r\nimport cn from \"classnames\";\r\n\r\nexport const Paginator = (props) => {\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / props.portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * props.portionSize;\r\n    return (\r\n            <div className={style.paginator}>\r\n                {portionNumber > 1 &&\r\n                <span className={style.portionNumberLeft} onClick={() => {setPortionNumber(portionNumber -1)}}>{\"<\"}</span>\r\n                }\r\n                {pages\r\n                    .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                    .map((p) => {\r\n                        return <span className={ cn({ [style.selectedPage]:\r\n                            props.currentPage === p}, style.pageNumber) }\r\n                                    onClick={(e) => {\r\n                                        props.onPageChanged(p);\r\n                                    }}>{p}</span>\r\n                    })}\r\n                {portionCount > portionNumber &&\r\n                <span className={style.portionNumberRight} onClick={() => {setPortionNumber(portionNumber + 1)}}>{\">\"}</span>\r\n                }\r\n        </div>\r\n    )\r\n};","import React, { useEffect } from 'react';\r\nimport './users.css';\r\nimport userPhoto from '../img/user.png';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Preloader from \"../common/preloader/preloader\";\r\nimport {Paginator} from \"./paginator\";\r\nimport scroll from \"./../img/scroll.png\";\r\n\r\n\r\nconst Users = (props) => {\r\n\r\n    let listener = function () {\r\n        var stop = (document.body.scrollTop || document.documentElement.scrollTop);\r\n        if (stop > 800) {\r\n            document.getElementById(\"scrollToTop\").style.opacity = \"1\";\r\n        } else {\r\n            document.getElementById(\"scrollToTop\").style.opacity = \"0\";\r\n        }\r\n        document.getElementById(\"scrollToTop\").onclick = function() {\r\n            document.getElementById(\"start\").scrollIntoView({\r\n                behavior: 'smooth',\r\n                block: 'start'\r\n              })\r\n        };\r\n    }\r\n    useEffect (()=> {\r\n        window.addEventListener('scroll', listener);\r\n\r\n        return () => {\r\n            window.removeEventListener ('scroll',listener)\r\n        }\r\n    }, [])\r\n\r\n    if (!props.users) {\r\n        return <Preloader />\r\n    }\r\n\r\n    return (\r\n    <div className={\"friends\"}>\r\n        <div>\r\n            <div className= {\"paginator\"} id=\"start\">\r\n            <Paginator pageSize={props.pageSize}\r\n                    totalItemsCount={props.totalUserCount}\r\n                    currentPage={props.currentPage}\r\n                    onPageChanged={props.onPageChanged}\r\n                    portionSize={10} />\r\n            </div>\r\n            {\r\n                props.users.map(u => <div className={\"text\"} key={u.id}>\r\n                    <div>\r\n                        <div className={\"top\"}>\r\n                            <div>\r\n                                <NavLink to = {'/profile/' + u.id}>\r\n                                <img src={u.photos.small != null ? u.photos.small : userPhoto} className={\"photo\"}/>\r\n                                </NavLink>\r\n                            </div>\r\n                            <div className={\"data\"}>\r\n                                <span>\r\n                                    <div>{u.name}</div>\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                        <div className={\"bottom\"}>\r\n                            {u.followed ?\r\n                                <button disabled={props.followingInProgress.some( id => id === u.id)} className={\"unFollowButton\"}\r\n                                        onClick={() => { props.unFollow(u.id) }}> Удалить </button>\r\n                                : <button disabled={props.followingInProgress.some( id => id === u.id)} className={\"followButton\"}\r\n                                        onClick={() => {props.follow(u.id)}}> + </button>}\r\n                            <div className={\"positionButtonMessage\"}>\r\n                                <NavLink to={'/dialogs/'+ u.id} style={{ textDecoration: 'none' }}>\r\n                                    <span className={\"buttonMessage\"}>\r\n                                            написать\r\n                                    </span>\r\n                                </NavLink>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>)\r\n            }\r\n            <div id=\"scrollToTop\" ><img src={scroll} alt=\"\" /></div>\r\n        </div>\r\n    </div>)\r\n}\r\n\r\n\r\n\r\nexport default Users;","\r\nexport const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n}\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUserCount = (state) => {\r\n    return state.usersPage.totalUserCount;\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\n","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport { withRouter} from 'react-router-dom';\r\nimport {\r\n    follow,\r\n    setCurrentPage,\r\n    unFollow, toggleIsFollowingProgress, requestUsers\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport {compose} from \"redux\";\r\nimport {getCurrentPage,getFollowingInProgress,getIsFetching,getPageSize,getTotalUserCount, getUsers} from \"../../redux/UsersSelectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUsers(pageNumber, this.props.pageSize);\r\n        this.props.setCurrentPage(pageNumber);\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n\r\n            <Users totalUserCount={this.props.totalUserCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   users={this.props.users}\r\n                   unFollow={this.props.unFollow}\r\n                   follow={this.props.follow}\r\n                   onPageChanged={this.onPageChanged}\r\n                   followingInProgress={this.props.followingInProgress}\r\n                   id = {this.props.match.params.id}\r\n                   \r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUserCount: getTotalUserCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose (connect(mapStateToProps, {\r\n    follow,\r\n    unFollow,\r\n    setCurrentPage,\r\n    toggleIsFollowingProgress,\r\n    getUsers: requestUsers,\r\n}\r\n    ),\r\n    withRouter\r\n    ) (UsersContainer)\r\n","import React from 'react';\r\nimport s from './header.module.css';\r\nimport myLogo from './../img/myLogo.png';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport exit from \"../img/exit.png\";\r\nimport user from \"../img/user.png\"\r\n\r\nconst Header = (props) => {\r\n    return (\r\n    <header className={s.header}>\r\n            <NavLink to= \"/profile\">\r\n                <img className={s.logo} src={myLogo} alt=''/>\r\n            </NavLink>\r\n            <div className={s.loginBlock}>\r\n                { props.isAuth ?\r\n                    <div className={s.isAuth}>\r\n                        {props.photos !== null ? props.photos.small !==null ? <img className={s.photoUser} src={props.photos.small} alt=\"\"/>: <img className={s.photoUser} src={user} alt=\"\"/>: null}\r\n                        <div className={s.name}>\r\n                        {props.login}\r\n                        </div>\r\n                        <div className={s.button} onClick={props.logout}>\r\n                                <img src={exit} alt=\"\"/>\r\n                            <span type = \"text/css\">Выйти</span>\r\n                        </div>\r\n                    </div>\r\n                :<NavLink to={'/login'}>\r\n                    <button className={s.logout}>Авторизоваться</button>\r\n                </NavLink>}\r\n            </div>\r\n\r\n    </header>)\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nimport Header from \"./header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\nimport { getAuthUserData, getMyProfileData, zeroStateThunk } from './../../redux/auth-reducer';\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        this.props.getMyProfileData(this.props.userId);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if(this.props.userId && !this.props.photos) {\r\n            this.props.getMyProfileData(this.props.userId);\r\n        }\r\n        if(!this.props.userId) {\r\n            this.props.zeroStateThunk()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n        <Header {...this.props} />\r\n        </>\r\n    }\r\n}\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    userId: state.auth.userId,\r\n    login: state.auth.login,\r\n    photos: state.auth.myData,\r\n});\r\nexport default connect (mapStateToProps, {logout, getAuthUserData, getMyProfileData, zeroStateThunk })(HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {createField, Input} from \"../common/FromsControls/FormsControls\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport s from '../common/FromsControls/FormsControls.module.css';\r\n\r\nconst LoginForm = ({handleSubmit, error, captchaUrl}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div className={s.form}>\r\n                <div>\r\n                    <h1>ВХОД</h1>\r\n                </div>\r\n                <div className={s.login}>\r\n                    <Field placeholder={\"Email\"}\r\n                           name={\"email\"}\r\n                           type={\"text\"}\r\n                           component={Input}\r\n                           validate={[required]}/>\r\n                </div>\r\n                <div className={s.password}>\r\n                    <Field  placeholder={\"Пароль\"}\r\n                           name={\"password\"}\r\n                           type={\"password\"}\r\n                           component={Input}\r\n                           validate={[required]}/>\r\n                </div>\r\n                <div>\r\n                    {captchaUrl && <img src={captchaUrl}/>}\r\n                    {captchaUrl && createField(\"Введите символы\", \"captcha\", [required], Input)}\r\n                </div>\r\n                {error && <div className={s.formSummaryError}>\r\n                    {error}\r\n                </div>}\r\n                    <button className={s.button}>Войти</button>\r\n            </div>\r\n            <div className={s.data}>\r\n            <h1>Тестовый аккаунт: free@samuraijs.com</h1>\r\n            <h1>Пароль: free</h1>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\r\n    }\r\n    if (props.isAuth) {\r\n        return <Redirect to={\"/profile\"}/>\r\n    }\r\n    return (\r\n        <div>\r\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    captchaUrl: state.auth.captchaUrl\r\n})\r\nexport default connect(mapStateToProps, {login})(Login);","import React from 'react';\r\nimport s from \"./../Dialogs.module.css\";\r\n\r\nconst Message = (props) => {\r\n    return (<div>\r\n        <div className={s.text}><div className={s.userName}>{props.senderName}: </div> <div className={s.userMessage}>{props.message}</div></div>\r\n    </div>)\r\n}\r\n\r\n\r\nexport default Message;","import React from 'react';\r\nimport s from \"../../Dialogs.module.css\";\r\nimport user from '../../../img/user.png';\r\nconst ChatItems = (props) => {\r\n    return (\r\n            <div className={s.chatDialog}>\r\n                <img src={!props.photos ? user: props.photos} alt=\"\"/>\r\n                <div>{props.name}</div>\r\n            </div>\r\n    )\r\n}\r\n\r\n\r\n\r\nexport default ChatItems;","import React from 'react';\r\nimport s from \"./../Dialogs.module.css\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator} from \"../../../utils/validators/validators\";\r\nimport { Input } from '../../common/FromsControls/FormsControls';\r\nimport Message from './../Message/Message';\r\nimport ChatItems from './chatItems/ChatItems';\r\nimport Preloader from '../../common/preloader/preloader';\r\n\r\n\r\nconst Dialogs = (props) => {\r\n    let messagesElements = props.allMessages.map(m => <Message message={m.body} senderName={m.senderName} />)\r\n    let addNewMessage = (values) => {\r\n        props.sendMessageThunk(props.id, values.newMessageBody);\r\n    }\r\n\r\n    if (!props.allMessages) {\r\n        return <Preloader/>\r\n    }\r\n    return (<div> \r\n            <div className={s.dialogChat}>\r\n                {props.userData ?\r\n                    <ChatItems name={props.userData.fullName}\r\n                    key={props.userData.userId} id={props.userData.userId}\r\n                    photos={props.userData.photos.small} /> : false}\r\n            </div>\r\n            <div className={s.chatBlock}>\r\n                <div className={s.chat}>\r\n                    <div className={s.messagesBody}>\r\n                        {messagesElements}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className={s.messageBlock}>\r\n                <div className={s.addMessage}>\r\n                    <DialogsReduxForm onSubmit={addNewMessage}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst DialogsForm = (props) => {\r\n    return <form onSubmit={props.handleSubmit}>\r\n        <div className={s.formMessage}>\r\n            <div className={s.sendMessage}>\r\n                <Field component={Input}\r\n                       placeholder={\"напишите сообщение\"}\r\n                       onSubmit={props.handleSubmit}\r\n                       name={\"newMessageBody\"}\r\n                       />\r\n            </div>\r\n            <div>\r\n                <button className={s.button} onClick={props.handleSubmit}>Отправить</button>\r\n            </div>\r\n        </div>\r\n\r\n    </form>\r\n}\r\n\r\nconst DialogsReduxForm = reduxForm({form: \"dialogForm\"})(DialogsForm)\r\n\r\nexport default Dialogs;","import React, {useEffect} from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport { getAllDialogs, getAllMessages, sendMessageThunk } from '../../../redux/dialogs-reducer';\r\nimport { withRouter} from 'react-router-dom';\r\nimport Chat from './Chat';\r\nimport { getUserProfile } from '../../../redux/profile-reducer';\r\n\r\n\r\nclass ChatContainer extends React.Component {\r\n\r\n    constructor (props) {\r\n        super(props);\r\n        this.state = {userId: null}\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({userId: this.props.match.params.id});\r\n        this.props.getUserProfile(this.props.match.params.id);\r\n        this.props.getAllMessages(this.props.match.params.id);\r\n    }\r\n\r\n    interval () {\r\n        this.timer = setInterval (() => {\r\n            this.props.getAllMessages(this.state.userId);\r\n        }, 3000)\r\n    }\r\n    deleteInterval () {\r\n        return clearInterval(this.timer);\r\n    }\r\n    \r\n    componentDidUpdate(prevProps) {\r\n        this.deleteInterval()\r\n        if (this.props.match.params.id !== this.state.userId) {\r\n            this.setState({userId: this.props.match.params.id});\r\n            this.props.getAllMessages(this.state.userId);\r\n            this.deleteInterval();\r\n        } else if (this.props.match.params.id === this.state.userId) {\r\n            this.interval();\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.deleteInterval();\r\n        this.state.userId = null;\r\n    }\r\n\r\n    render () {    \r\n    return (\r\n        <Chat allDialogs={this.props.allDialogs} id={this.props.match.params.id} allMessages={this.props.allMessages} sendMessageThunk={this.props.sendMessageThunk} userData={this.props.userData} />\r\n    )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        allDialogs: state.dialogsPage.dialogs,\r\n        allMessages: state.dialogsPage.messages,\r\n        userData: state.profilePage.profile,\r\n        totalCount: state.dialogsPage.totalCount\r\n\r\n    }\r\n}\r\n\r\nexport default compose(connect(mapStateToProps, \r\n    {setDialogs:getAllDialogs,\r\n        getUserProfile,\r\n        getAllMessages,\r\n        sendMessageThunk\r\n    }),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ChatContainer);\r\n\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Navbar from './components/navbar/navbar';\r\nimport {Redirect, Route, withRouter} from \"react-router-dom\";\r\nimport Settings from \"./components/Settings/Settings\";\r\nimport Music from \"./components/Music/Music\";\r\nimport News from \"./components/News/News\";\r\nimport UsersContainer from \"./components/users/UsersContainer\";\r\nimport HeaderContainer from \"./components/header/headerContainer\";\r\nimport Login from './components/login/login';\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {initializeApp} from \"./redux/app-reducer\";\r\nimport Preloader from \"./components/common/preloader/preloader\";\r\nimport ChatContainer from './components/Dialogs/chat/ChatContainer.jsx';\r\n\r\n//import ProfileContainer from \"./components/profile/ProfileContainer\";\r\n//import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\nconst  DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\r\nconst  ProfileContainer = React.lazy(() => import('./components/profile/ProfileContainer'));\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.initializeApp();\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n        return (\r\n            <div className='app-wrapper'>\r\n                <HeaderContainer/>\r\n                <Navbar/>\r\n                <div className='app-wrapper-content'>\r\n                    <Route exact path='/' render={() => <Redirect to={\"/profile\"}/> } />\r\n                    <Route path='/profile/:userId?' render={() =>{\r\n                        return <React.Suspense fallback={<Preloader/>}>\r\n                            <ProfileContainer/>\r\n                        </React.Suspense>\r\n                    }}/>\r\n\r\n                    <Route exact path='/dialogs' render={() => {\r\n                        return <React.Suspense fallback={<Preloader/>}>\r\n                        <DialogsContainer/>\r\n                        </React.Suspense>\r\n                    }}/>\r\n\r\n                    <Route exact path={'/dialogs/:id'} render={() => { return <ChatContainer /> }} />\r\n\r\n                    <Route path='/News' render={() => { return <News /> }}/>\r\n\r\n                    <Route path='/Music' render={() =>{ return <Music />} }/>\r\n\r\n                    <Route path='/Settings' render={() => { return <Settings />}}/>\r\n\r\n                    <Route path='/users' render={() =>{\r\n                        return <React.Suspense fallback={<Preloader/>}>\r\n                            <UsersContainer/>\r\n                        </React.Suspense>\r\n                    }}/>\r\n\r\n                    <Route path='/login' render={() => <Login/>}/>\r\n                    {/*<Route path='*' render={() => <div>404 NOT FOUND</div>}/>*/}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    initialized: state.app.initialized,\r\n})\r\n\r\nexport default compose(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeApp}))(App);","import * as serviceWorker from './serviceWorker';\r\nimport store from \"./redux/redux-store\";\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport './index.css';\r\nimport App from './App';\r\nimport {HashRouter} from \"react-router-dom\";\r\nimport {Provider} from \"react-redux\";\r\nimport Favicon from \"react-favicon\";\r\nimport myLogo from \"../src/components/img/myLogo.png\";\r\n    ReactDOM.render(\r\n        <HashRouter>\r\n            < Favicon url = {myLogo} />\r\n            <Provider store = {store}>\r\n            <App  />\r\n            </Provider>\r\n        </HashRouter>, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport preloader from \"../../img/preloader.svg\";\r\nimport s from './preloader.module.css';\r\n\r\nlet Preloader = (props) => {\r\n    return <div className={s.preloader}>\r\n        <img src={preloader}/>\r\n    </div>\r\n}\r\n\r\nexport default Preloader;\r\n","import React from 'react';\r\nimport s from '../FromsControls/FormsControls.module.css';\r\nimport {Field} from \"redux-form\";\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n            <div>\r\n                <textarea {...input} {...props} />\r\n            </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n            <div>\r\n                <input {...input} {...props} />\r\n            </div>\r\n            {hasError && <span>Поле, обязательное для заполнения</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const createField = (placeholder, name, validators, component, props={}, text = \"\") => {\r\n    return (\r\n        <div>\r\n            <Field placeholder={placeholder}\r\n                   name={name}\r\n                   validate={validators}\r\n                   component={component}\r\n                   {...props}\r\n            /> {text}\r\n        </div>\r\n    )\r\n}","module.exports = __webpack_public_path__ + \"static/media/user.816a4ffb.png\";","import { dialogsAPI } from \"../api/api\";\r\n\r\nconst UPDATE_NEW_MESSAGE_BODY = 'UPDATE_NEW_MESSAGE_BODY';\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\nconst SET_DIALOGS = 'SET_DIALOGS';\r\nconst SET_ALL_MESSAGES = 'SET_ALL_MESSAGES';\r\nconst BEGINING_CHATTING = 'BEGINING_CHATTING';\r\n\r\nlet initialState = {\r\n    dialogs: [],\r\n    messages: [],\r\n    messageForFriend: null,\r\n    totalCount: null\r\n};\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case UPDATE_NEW_MESSAGE_BODY:\r\n            return {\r\n                ...state,\r\n            };\r\n        case SET_DIALOGS:\r\n            return {\r\n                ...state,\r\n                ...state.dialogs,\r\n                dialogs: action.dialogs,\r\n            };\r\n        case SET_ALL_MESSAGES:\r\n            return {\r\n                ...state,\r\n                ...state.messages,\r\n                messages: action.allMessages,\r\n                ...state.totalCount,\r\n                totalCount: action.totalCount\r\n            };\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 6, message: body}],\r\n                dialogs: [...state.dialogs, {id: 6, name: 'Дима'}]\r\n            };\r\n        default:\r\n            return state;\r\n\r\n    }\r\n}\r\n\r\nexport const setAllDialogs = (dialogs) =>({type: SET_DIALOGS, dialogs});\r\nexport const SendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody});\r\nexport const SetAllMessages = (allMessages, totalCount) =>({type: SET_ALL_MESSAGES, allMessages , totalCount});\r\nexport const beginingChattingAC = (data) =>({type: BEGINING_CHATTING, data});\r\n\r\nexport const getAllDialogs = () => async (dispatch) => {\r\n    let response = await dialogsAPI.getDialogs();\r\n    dispatch(setAllDialogs(response.data));\r\n};\r\n\r\nexport const getAllMessages = (id) => async (dispatch) => {\r\n    let response = await dialogsAPI.getAllMessages(id);\r\n    dispatch(SetAllMessages(response.data.items, response.data.totalCount));\r\n}\r\n\r\nexport const beginingChatting = (id) => async (dispatch) => {\r\n    await dialogsAPI.startChatting(id);\r\n}\r\n\r\nexport const sendMessageThunk = (id, message) => async (dispatch) => {\r\n    await dialogsAPI.sendMessage(id, message);\r\n    dispatch(getAllMessages(id));\r\n}\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"paginator_paginator__1vTMI\",\"pageNumber\":\"paginator_pageNumber__35Kbo\",\"selectedPage\":\"paginator_selectedPage__1j5dj\",\"portionNumberLeft\":\"paginator_portionNumberLeft__1RnEe\",\"portionNumberRight\":\"paginator_portionNumberRight__Os5zs\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Привет, как дела ?', like: 15},\r\n        {id: 2, message: \"Это мой первый пост !\", like: 20}\r\n    ],\r\n    profile: null,\r\n    status: \"\"\r\n\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                like: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {...state, profile: action.profile}\r\n        }\r\n        case SET_STATUS: {\r\n            return {...state, status: action.status}\r\n        }\r\n        case SAVE_PHOTO_SUCCESS: {\r\n            return {...state, profile: {...state.profile, photos: action.photos}}\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const savePhotoSuccess = (photos) => ({type: SAVE_PHOTO_SUCCESS, photos})\r\n\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId);\r\n    dispatch(setUserProfile(response.data));\r\n};\r\n// can use async - await\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId);\r\n    dispatch(setStatus(response.data))\r\n};\r\n\r\n// or use .then\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n};\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n    let response = await profileAPI.savePhoto(file);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(savePhotoSuccess(response.data.data.photos))\r\n    }\r\n};\r\nexport const saveProfile = (profile) => async (dispatch, getState) => {\r\n    let userId = getState().auth.userId;\r\n    let response = await profileAPI.saveProfile(profile);\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(getUserProfile(userId));\r\n    } else {\r\n        dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0]}));\r\n        return Promise.reject(response.data.messages[0]);\r\n    }\r\n};\r\n\r\n\r\nexport default profileReducer;","export const required = value => {\r\n    if (value) return undefined;\r\n    return  'Field is required';\r\n}\r\n\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n   return  undefined;\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/myLogo.6a87928f.png\";"],"sourceRoot":""}