{"ast":null,"code":"import _slicedToArray from\"D:\\\\ReactSocial\\\\ReactSocialNetwork\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import s from'./profileStatus.module.css';import Preloader from\"../../../common/preloader/preloader\";import user from'../../../img/user.png';var ProfileStatusWithHooks=function ProfileStatusWithHooks(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),editMode=_useState2[0],setEditMode=_useState2[1];var _useState3=useState(props.status),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];useEffect(function(){setStatus(props.status);},[props.status]);var activateEditMode=function activateEditMode(){setEditMode(true);};var deactivateEditMode=function deactivateEditMode(){setEditMode(false);props.updateStatus(status);};var onStatusChange=function onStatusChange(e){setStatus(e.currentTarget.value);};var deactivateEditModeEnter=function deactivateEditModeEnter(enter){if(enter.charCode===13){setEditMode(false);props.updateStatus(status);}};/*componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.status !== this.props.status) {\r\n            this.setState({\r\n                status: this.props.status\r\n            })\r\n        }\r\n    }*/return/*#__PURE__*/React.createElement(\"div\",null,!editMode&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",{onClick:activateEditMode},\"Статус: \"+props.status)),editMode&&/*#__PURE__*/React.createElement(\"div\",null,\"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441:\",/*#__PURE__*/React.createElement(\"input\",{onChange:onStatusChange,autoFocus:true,onKeyPress:deactivateEditModeEnter,value:status}),/*#__PURE__*/React.createElement(\"button\",{onClick:deactivateEditMode},\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\")));};export default ProfileStatusWithHooks;","map":{"version":3,"sources":["D:/ReactSocial/ReactSocialNetwork/src/components/profile/profileinfo/profileStatus/ProfileStatusWithHooks.js"],"names":["React","useEffect","useState","s","Preloader","user","ProfileStatusWithHooks","props","editMode","setEditMode","status","setStatus","activateEditMode","deactivateEditMode","updateStatus","onStatusChange","e","currentTarget","value","deactivateEditModeEnter","enter","charCode"],"mappings":"+JAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,CAA0BC,QAA1B,KAAyC,OAAzC,CACA,MAAOC,CAAAA,CAAP,KAAc,4BAAd,CACA,MAAOC,CAAAA,SAAP,KAAsB,qCAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,uBAAjB,CAEA,GAAMC,CAAAA,sBAAsB,CAAG,QAAzBA,CAAAA,sBAAyB,CAACC,KAAD,CAAW,eAERL,QAAQ,CAAC,KAAD,CAFA,wCAEjCM,QAFiC,eAEvBC,WAFuB,8BAGZP,QAAQ,CAACK,KAAK,CAACG,MAAP,CAHI,yCAGjCA,MAHiC,eAGzBC,SAHyB,eAMtCV,SAAS,CAAE,UAAM,CACbU,SAAS,CAACJ,KAAK,CAACG,MAAP,CAAT,CAAwB,CADnB,CACsB,CAACH,KAAK,CAACG,MAAP,CADtB,CAAT,CAGA,GAAME,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,EAAM,CAC3BH,WAAW,CAAC,IAAD,CAAX,CACH,CAFD,CAGA,GAAMI,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,EAAM,CAC7BJ,WAAW,CAAC,KAAD,CAAX,CACAF,KAAK,CAACO,YAAN,CAAoBJ,MAApB,EACH,CAHD,CAKA,GAAMK,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,CAAD,CAAO,CAC1BL,SAAS,CAACK,CAAC,CAACC,aAAF,CAAgBC,KAAjB,CAAT,CAEH,CAHD,CAKA,GAAMC,CAAAA,uBAAuB,CAAG,QAA1BA,CAAAA,uBAA0B,CAACC,KAAD,CAAW,CACvC,GAAIA,KAAK,CAACC,QAAN,GAAmB,EAAvB,CAA0B,CACtBZ,WAAW,CAAC,KAAD,CAAX,CACAF,KAAK,CAACO,YAAN,CAAoBJ,MAApB,EACH,CACJ,CALD,CAOA;;;;;;OAQA,mBACI,+BAEM,CAACF,QAAD,eACF,4CACI,4BAAM,OAAO,CAAEI,gBAAf,EAAmC,WAAaL,KAAK,CAACG,MAAtD,CADJ,CAHJ,CAOKF,QAAQ,eACT,oFAEI,6BAAO,QAAQ,CAAEO,cAAjB,CAAiC,SAAS,CAAE,IAA5C,CAAkD,UAAU,CAAEI,uBAA9D,CAAuF,KAAK,CAAET,MAA9F,EAFJ,cAGI,8BAAQ,OAAO,CAAEG,kBAAjB,2DAHJ,CARJ,CADJ,CAiBH,CAtDD,CAwDA,cAAeP,CAAAA,sBAAf","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport s from './profileStatus.module.css';\r\nimport Preloader from \"../../../common/preloader/preloader\";\r\nimport user from '../../../img/user.png'\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n\r\n    useEffect( () => {\r\n        setStatus(props.status)} , [props.status]);\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true)\r\n    };\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus (status)\r\n    };\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n\r\n    };\r\n\r\n    const deactivateEditModeEnter = (enter) => {\r\n        if (enter.charCode === 13){\r\n            setEditMode(false);\r\n            props.updateStatus (status)\r\n        }\r\n    };\r\n\r\n    /*componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.status !== this.props.status) {\r\n            this.setState({\r\n                status: this.props.status\r\n            })\r\n        }\r\n    }*/\r\n\r\n    return (\r\n        <div>\r\n\r\n            { !editMode &&\r\n            <div>\r\n                <span onClick={activateEditMode} >{\"Статус: \" + props.status}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                Статус:\r\n                <input onChange={onStatusChange} autoFocus={true} onKeyPress={deactivateEditModeEnter} value={status}/>\r\n                <button onClick={deactivateEditMode} >Сохранить</button>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;"]},"metadata":{},"sourceType":"module"}